# ğŸ¨ Refresh Plus - ì„ì§ì› ë³µì§€ ìˆ™ì†Œ ì˜ˆì•½ í”Œë«í¼

**ì„ì§ì›ë“¤ì„ ìœ„í•œ ìŠ¤ë§ˆíŠ¸í•œ í˜¸í…”/ë¦¬ì¡°íŠ¸ ì˜ˆì•½ ì‹œìŠ¤í…œ**

í¬ì¸íŠ¸ ê¸°ë°˜ í‹°ì¼“íŒ…, ì‹¤ì‹œê°„ ì•Œë¦¼, AI ì±—ë´‡ì„ í†µí•©í•œ í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë°”ì¼ ì•±

---

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [API ì—”ë“œí¬ì¸íŠ¸](#api-ì—”ë“œí¬ì¸íŠ¸)
- [ë°°í¬ ê°€ì´ë“œ](#ë°°í¬-ê°€ì´ë“œ)
- [ê¸°ì—¬ ê°€ì´ë“œ](#ê¸°ì—¬-ê°€ì´ë“œ)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### ğŸ¯ ë°°ê²½
ê¸°ì¡´ì˜ ì„ì§ì›ìš© í˜¸í…”/ë¦¬ì¡°íŠ¸ ì˜ˆì•½ ì›¹ì‚¬ì´íŠ¸ì˜ ë¶ˆí¸í•¨ì„ ê°œì„ í•˜ì—¬, ë‹¤ìŒì„ ì œê³µí•©ë‹ˆë‹¤:

- **í¬ì¸íŠ¸ ê¸°ë°˜ ì˜ˆì•½ ì‹œìŠ¤í…œ**: ì„ì§ì›ë“¤ì€ ì¼ì • ì ìˆ˜ë¥¼ ë³´ìœ í•˜ë©°, ì˜ˆì•½í•  ë•Œë§ˆë‹¤ ì°¨ê°ë˜ê³  ì¼ì • ì‹œê°„ì´ ê²½ê³¼í•˜ë©´ íšŒë³µ
- **ê³µì •í•œ í‹°ì¼“íŒ…**: ë§¤ì¼ ê° ìˆ™ì†Œë³„ë¡œ í‹°ì¼“íŒ…ì„ ì§„í–‰í•˜ì—¬ ì ìˆ˜ê°€ ë†’ì€ ì‚¬ëŒì´ ì˜ˆì•½ë¨
- **ìŠ¤ë§ˆíŠ¸ ì•Œë¦¼**: ê°œì¸í™”ëœ ì•Œë¦¼ìœ¼ë¡œ ì˜ˆì•½ ê¸°íšŒë¥¼ ë†“ì¹˜ì§€ ì•ŠìŒ
- **AI ì±—ë´‡**: ê¸°ì¡´ Q&A ê²Œì‹œíŒ ê¸°ë°˜ RAG ì±—ë´‡ìœ¼ë¡œ ì¦‰ì‹œ ë‹µë³€


---

## ì£¼ìš” ê¸°ëŠ¥

### 1. ìˆ™ì†Œ ì •ë³´ & ì˜ˆì•½ ê°€ëŠ¥ì„± í™•ì¸
```
ì‚¬ìš©ìê°€ ë³¼ ìˆ˜ ìˆëŠ” ì •ë³´:
- ìˆ™ì†Œ ìƒì„¸ ì •ë³´ (ì´ë¯¸ì§€, ì„¤ëª…, í¸ì˜ì‹œì„¤)
- í˜„ì¬ ë³¸ì¸ì˜ ì ìˆ˜ë¡œ ì˜ˆì•½ ê°€ëŠ¥ ì—¬ë¶€
- ìµœê·¼ 4ì£¼ê°„ í‰ê·  ë‹¹ì²¨ì— í•„ìš”í•œ ì ìˆ˜
- ê³¼ê±° ìŠ¹ë¥  ë° í†µê³„
```

**êµ¬í˜„ ë°©ì‹**:
- ë§¤ì¼ ë°¤ 12:00 ë°°ì¹˜ ì‘ì—…ìœ¼ë¡œ ë‹¹ì¼ í†µê³„ ê³„ì‚°
- ì‹¤ì‹œê°„ ì‚¬ìš©ì ì ìˆ˜ ì¡°íšŒ
- í•„í„°ë§ & ì •ë ¬ (ì¸ê¸°ë„, ì§€ì—­, ê°€ê²©ëŒ€)

### 2. ì‹¤ì‹œê°„ ì•Œë¦¼ ê¸°ëŠ¥
```
í”Œë«í¼ë³„ ì•Œë¦¼ ì „ë‹¬:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ì•Œë¦¼ ì´ë²¤íŠ¸ ë°œìƒ                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚         â”‚
    â–¼         â–¼         â–¼
 Android   iOS & PC   ê¸°íƒ€
    â”‚         â”‚
    â–¼         â–¼
Firebase  Kakao
  FCM      Talk
```

**ì•Œë¦¼ íƒ€ì…**:
1. **ì¦‰ì‹œ ì•Œë¦¼**: í‹°ì¼“íŒ… ê²°ê³¼, ì˜ˆì•½ ì„±ê³µ/ì‹¤íŒ¨
2. **ê´€ì‹¬ ìˆ™ì†Œ ì•Œë¦¼**: ì°œí•œ ìˆ™ì†Œê°€ ë‚´ ì ìˆ˜ë¡œ ì˜ˆì•½ ê°€ëŠ¥í•  ë•Œ
3. **ì ìˆ˜ íšŒë³µ ì•Œë¦¼**: ì¼ì • ì‹œê°„ ê²½ê³¼ í›„ ì ìˆ˜ íšŒë³µë¨
4. **ì¸ê¸° ìˆ™ì†Œ ì•Œë¦¼**: ì¸ê¸° ìˆ™ì†Œ ë‚¨ì€ ìë¦¬ ê³µì§€

### 3. RAG ì±—ë´‡ (Chainlit)
```
ì‚¬ìš©ì ì§ˆë¬¸
    â”‚
    â–¼
ë¬¸ì„œ ê²€ìƒ‰ (ì„ì§ì› Q&A ê²Œì‹œíŒ)
    â”‚
    â–¼
ê´€ë ¨ ë¬¸ì„œ ì¶”ì¶œ
    â”‚
    â–¼
LLMìœ¼ë¡œ ì‘ë‹µ ìƒì„±
    â”‚
    â–¼
ì‚¬ìš©ìì—ê²Œ í‘œì‹œ
```

**ê¸°ëŠ¥**:
- Q&A ê²Œì‹œíŒ ë°ì´í„° ê¸°ë°˜ RAG
- ì˜ˆì•½ ì •ì±…, ì ìˆ˜ ì‹œìŠ¤í…œ, ì·¨ì†Œ/ë³€ê²½ ì •ë³´ ìë™ ì‘ë‹µ
- ì›¹ì‚¬ì´íŠ¸ í•˜ë‹¨ì— Chainlit ìœ„ì ¯ìœ¼ë¡œ ì œê³µ

### 4. ì°œí•˜ê¸° & ìŠ¤ë§ˆíŠ¸ ì•Œë¦¼
```
ì‚¬ìš©ì ì°œí•˜ê¸°
    â”‚
    â–¼
ë‚´ ì ìˆ˜ë¡œ ì˜ˆì•½ ê°€ëŠ¥í•´ì§
    â”‚
    â–¼
í‘¸ì‹œ ì•Œë¦¼ ì¦‰ì‹œ ë°œì†¡
    â”‚
    â–¼
ì‚¬ìš©ìê°€ ì˜ˆì•½ í˜ì´ì§€ë¡œ ì´ë™
```

**íŠ¹ì§•**:
- ìµœëŒ€ 10ê°œ ìˆ™ì†Œ ì°œí•˜ê¸° ê°€ëŠ¥
- ì£¼ë§/íœ´ì¼ ìë™ í•„í„°ë§
- ì‹ ì²­ ì ìˆ˜ ë³€ë™ì‹œ ì¶”ê°€ ì•Œë¦¼ ì˜µì…˜

---

## ê¸°ìˆ  ìŠ¤íƒ

### Frontend
```
Framework:          Next.js 14+ (App Router, TypeScript)
UI Components:      Shadcn/ui (Tailwind CSS)
State Management:   Context API + React Query
Authentication:     Clerk
Push Notifications: Firebase Cloud Messaging
Push (iOS/PC):      Kakao Talk Channel API
Forms:              React Hook Form + Zod
HTTP Client:        Axios / Fetch API
Charts/Analytics:   Chart.js / Recharts
```

### Backend
```
Framework:          FastAPI (Python 3.11+)
ORM:                SQLAlchemy 2.0
Database:           Turso (SQLite Edge)
Task Queue:         AWS Lambda + EventBridge
Authentication:     Clerk SDK (JWT ê²€ì¦)
Notifications:      Firebase Admin SDK
Kakao Integration:  Kakao Talk Channel API
RAG Chatbot:        Chainlit + LangChain
Vector DB:          Supabase pgvector (ì„ íƒ)
```

### Infrastructure
```
Frontend Hosting:   Vercel
Backend Hosting:    Vercel Functions / AWS Lambda
Database:           Turso (SQLite)
File Storage:       AWS S3 / Vercel Blob
Cache:              Redis (Upstash)
Monitoring:         Sentry
Logging:            CloudWatch / Axiom
CI/CD:              GitHub Actions
```

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

### ê³ ìˆ˜ì¤€ êµ¬ì¡°
```
refresh-plus/
â”œâ”€â”€ frontend/          # Next.js + React (TypeScript)
â”œâ”€â”€ backend/           # FastAPI + Python
â”œâ”€â”€ infra/             # AWS/Vercel ì„¤ì •
â””â”€â”€ docs/              # ë¬¸ì„œ
```

### Frontend êµ¬ì¡°
```
frontend/src/
â”œâ”€â”€ app/              # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/       # ì¸ì¦ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ (protected)/  # ë³´í˜¸ëœ ë¼ìš°íŠ¸
â”‚   â””â”€â”€ api/          # API ë¼ìš°íŠ¸ (ì›¹í›…, ëŒ€ë¦¬ ìš”ì²­)
â”œâ”€â”€ components/       # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ layout/       # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ accommodation/# ìˆ™ì†Œ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ booking/      # ì˜ˆì•½ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ ui/           # Shadcn/ui ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ lib/              # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ api.ts        # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ firebase.ts   # Firebase ì„¤ì •
â”‚   â””â”€â”€ notifications.ts
â”œâ”€â”€ hooks/            # ì»¤ìŠ¤í…€ React í›…
â”œâ”€â”€ context/          # Context API
â””â”€â”€ types/            # TypeScript íƒ€ì…
```

### Backend êµ¬ì¡°
```
backend/app/
â”œâ”€â”€ main.py           # FastAPI ì•± ì´ˆê¸°í™”
â”œâ”€â”€ config.py         # ì„¤ì • (í™˜ê²½ ë³€ìˆ˜)
â”œâ”€â”€ database.py       # DB ì—°ê²°
â”œâ”€â”€ models/           # SQLAlchemy ëª¨ë¸
â”œâ”€â”€ schemas/          # Pydantic ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ routes/           # API ë¼ìš°í„°
â”œâ”€â”€ services/         # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”œâ”€â”€ batch/            # AWS Lambda ë°°ì¹˜
â”œâ”€â”€ integrations/     # ì™¸ë¶€ ì„œë¹„ìŠ¤ í†µí•©
â””â”€â”€ utils/            # í—¬í¼ í•¨ìˆ˜
```

---

## ì„¤ì¹˜ ë° ì‹¤í–‰

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- Node.js 18+
- Python 3.11+
- Docker (ì„ íƒì‚¬í•­)
- Git

### Backend ì„¤ì¹˜

#### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/your-org/refresh-plus.git
cd refresh-plus/backend
```

#### 2. ê°€ìƒ í™˜ê²½ ìƒì„±
```bash
python -m venv venv

# macOS/Linux
source venv/bin/activate

# Windows
venv\Scripts\activate
```

#### 3. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
pip install -r requirements.txt
```

#### 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘í•˜ì—¬ í•„ìš”í•œ ê°’ ì…ë ¥
```

#### 5. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
```bash
alembic upgrade head
```

#### 6. ì„œë²„ ì‹¤í–‰
```bash
# ê°œë°œ ëª¨ë“œ
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# í”„ë¡œë•ì…˜
uvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4
```

### Frontend ì„¤ì¹˜

#### 1. ì €ì¥ì†Œ í´ë¡  (ìœ„ì—ì„œ í–ˆìœ¼ë©´ ìƒëµ)
```bash
cd refresh-plus/frontend
```

#### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
npm install
# ë˜ëŠ”
yarn install
```

#### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
cp .env.local.example .env.local
# .env.local íŒŒì¼ í¸ì§‘í•˜ì—¬ í•„ìš”í•œ ê°’ ì…ë ¥
```

í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜:
```env
# Clerk ì¸ì¦
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your_key
CLERK_SECRET_KEY=your_secret

# Firebase
NEXT_PUBLIC_FIREBASE_API_KEY=your_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_domain
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_id

# API
NEXT_PUBLIC_API_URL=http://localhost:8000

# Kakao
NEXT_PUBLIC_KAKAO_APP_ID=your_id
```

#### 4. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
npm run dev
# ë˜ëŠ”
yarn dev
```

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000` ì ‘ì†

### Docker í™˜ê²½ì—ì„œ ì‹¤í–‰

#### ì „ì²´ ìŠ¤íƒ ì‹œì‘
```bash
docker-compose up -d
```

ì„œë¹„ìŠ¤:
- **Frontend**: http://localhost:3000
- **Backend**: http://localhost:8000
- **Docs**: http://localhost:8000/docs

#### íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ì‹œì‘
```bash
docker-compose up -d backend
docker-compose up -d frontend
```

---

## API ì—”ë“œí¬ì¸íŠ¸

### ìˆ™ì†Œ API

#### ì „ì²´ ìˆ™ì†Œ ì¡°íšŒ
```http
GET /api/accommodations?filter=available&sort=popularity

Query Parameters:
  - filter: available | all | bookable
  - sort: popularity | price | rating
  - region: ì§€ì—­ ì½”ë“œ
  - page: í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
  - limit: í˜ì´ì§€ë‹¹ ê°œìˆ˜ (ê¸°ë³¸ê°’: 20)

Response:
{
  "total": 150,
  "page": 1,
  "items": [
    {
      "id": "acc_123",
      "name": "ìƒ¬ë ˆ íœì…˜",
      "region": "ê°•ì›",
      "price": 120000,
      "image_url": "...",
      "can_book_with_current_score": true,
      "avg_winning_score_4weeks": 85,
      "availability": 3,
      "rating": 4.8
    }
  ]
}
```

#### ìˆ™ì†Œ ìƒì„¸ ì¡°íšŒ
```http
GET /api/accommodations/{accommodation_id}

Response:
{
  "id": "acc_123",
  "name": "ìƒ¬ë ˆ íœì…˜",
  "description": "...",
  "images": ["..."],
  "amenities": ["WiFi", "ì£¼ë°©", "..."],
  "price": 120000,
  "capacity": 4,
  "bookings_4weeks": [
    {"date": "2024-12-20", "status": "available", "winning_score": 85},
    ...
  ],
  "my_score": 92,
  "can_book": true,
  "past_bookings": 5,
  "win_rate": 0.35
}
```

### ì˜ˆì•½ API

#### ì˜ˆì•½ ìƒì„± (í‹°ì¼“íŒ…)
```http
POST /api/bookings

Request:
{
  "accommodation_id": "acc_123",
  "check_in": "2024-12-20",
  "check_out": "2024-12-22",
  "guests": 2
}

Response:
{
  "id": "booking_456",
  "status": "won",  # won | lost | pending
  "accommodation_id": "acc_123",
  "score_deducted": 15,
  "remaining_score": 85,
  "confirmation_number": "REFRESH-20241220-001"
}
```

#### ì˜ˆì•½ ëª©ë¡
```http
GET /api/bookings?status=completed

Query Parameters:
  - status: pending | won | lost | completed | cancelled
  - sort: date | status

Response:
{
  "items": [
    {
      "id": "booking_456",
      "accommodation": {...},
      "check_in": "2024-12-20",
      "check_out": "2024-12-22",
      "status": "won",
      "created_at": "2024-12-10T14:30:00Z"
    }
  ]
}
```

### ì°œí•˜ê¸° API

#### ì°œí•˜ê¸° ì¶”ê°€
```http
POST /api/wishlist

Request:
{
  "accommodation_id": "acc_123",
  "notify_when_bookable": true
}

Response:
{
  "id": "wishlist_789",
  "accommodation_id": "acc_123",
  "created_at": "2024-12-10T14:30:00Z"
}
```

#### ì°œí•˜ê¸° ëª©ë¡
```http
GET /api/wishlist

Response:
{
  "items": [
    {
      "id": "wishlist_789",
      "accommodation": {...},
      "bookable_with_current_score": true,
      "created_at": "2024-12-10T14:30:00Z"
    }
  ]
}
```

### ì‚¬ìš©ì API

#### ë‚´ í”„ë¡œí•„ & ì ìˆ˜
```http
GET /api/users/me

Response:
{
  "id": "user_123",
  "email": "user@company.com",
  "name": "ê¹€ì„ì§",
  "current_score": 100,
  "total_bookings": 5,
  "success_rate": 0.6,
  "next_score_recovery": "2024-12-15T00:00:00Z",
  "tier": "gold"  # silver | gold | platinum
}
```

#### ì ìˆ˜ íšŒë³µ ìŠ¤ì¼€ì¤„ ì¡°íšŒ
```http
GET /api/users/me/score-recovery-schedule

Response:
{
  "current_score": 85,
  "max_score": 100,
  "recovery_per_period": 10,
  "recovery_period_hours": 24,
  "next_recovery": "2024-12-15T00:00:00Z",
  "recoveries_remaining_today": 2
}
```

### ì•Œë¦¼ ì„¤ì • API

#### ì•Œë¦¼ ì„¤ì • ì¡°íšŒ
```http
GET /api/notifications/preferences

Response:
{
  "push_enabled": true,
  "push_on_booking_result": true,
  "push_on_wishlist_bookable": true,
  "push_on_score_recovery": false,
  "kakao_enabled": true,
  "quiet_hours": {
    "enabled": true,
    "start": "22:00",
    "end": "08:00"
  }
}
```

#### ì•Œë¦¼ ì„¤ì • ì—…ë°ì´íŠ¸
```http
PUT /api/notifications/preferences

Request:
{
  "push_enabled": true,
  "push_on_booking_result": true,
  "kakao_enabled": true
}

Response: {ì„¤ì •ëœ preferences}
```

ë” ìì„¸í•œ API ë¬¸ì„œëŠ” [API.md](./docs/API.md) ì°¸ê³ 

---

## ë°°í¬ ê°€ì´ë“œ

### Frontend ë°°í¬ (Vercel)

#### 1. Vercel ì—°ê²°
```bash
npx vercel login
```

#### 2. í”„ë¡œì íŠ¸ ì´ˆê¸° ë°°í¬
```bash
cd frontend
npx vercel
```

#### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (Vercel Dashboard)
```
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=...
NEXT_PUBLIC_API_URL=https://api.refresh-plus.com
# ê¸°íƒ€ í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€
```

#### 4. ìë™ ë°°í¬ ì„¤ì •
- GitHub ì—°ê²°: Vercelì—ì„œ GitHub ì €ì¥ì†Œ ì„ íƒ
- ìë™ ë°°í¬: main ë¸Œëœì¹˜ì— pushì‹œ ìë™ ë°°í¬
- ë¯¸ë¦¬ë³´ê¸°: PR ìƒì„±ì‹œ ìë™ preview ë°°í¬

### Backend ë°°í¬

#### ì˜µì…˜ 1: Vercel (Node.js)
FastAPIë¥¼ Vercelì— ë°°í¬í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë‹¤ìŒ ì˜µì…˜ ì¤‘ ì„ íƒ:

#### ì˜µì…˜ 2: AWS Lambda + API Gateway
```bash
cd backend

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.production
# .env.production í¸ì§‘

# Lambda í•¨ìˆ˜ë¡œ ë°°í¬
serverless deploy --stage production
```

#### ì˜µì…˜ 3: Railway/Render
```bash
# Railway ë°°í¬ (ì¶”ì²œ)
railway login
railway init
railway up

# ë˜ëŠ” Render
# render.yaml ì„¤ì • í›„ Render ëŒ€ì‹œë³´ë“œì—ì„œ ë°°í¬
```

#### ì˜µì…˜ 4: Docker (AWS ECS)
```bash
# ECRì— ì´ë¯¸ì§€ í‘¸ì‹œ
aws ecr get-login-password --region ap-northeast-2 | \
  docker login --username AWS --password-stdin 123456789.dkr.ecr.ap-northeast-2.amazonaws.com

docker build -t refresh-plus-backend .
docker tag refresh-plus-backend:latest \
  123456789.dkr.ecr.ap-northeast-2.amazonaws.com/refresh-plus-backend:latest
docker push \
  123456789.dkr.ecr.ap-northeast-2.amazonaws.com/refresh-plus-backend:latest

# ECS ë°°í¬
# (CloudFormation ë˜ëŠ” Terraformìœ¼ë¡œ ìë™í™”)
```

### ë°°ì¹˜ ì‘ì—… ë°°í¬ (AWS Lambda)

#### 1. í•¨ìˆ˜ ìƒì„±
```bash
cd backend/app/batch

# daily_ticketing í•¨ìˆ˜
zip -r ../../../daily_ticketing.zip daily_ticketing.py requirements.txt

aws lambda create-function \
  --function-name refresh-plus-daily-ticketing \
  --runtime python3.11 \
  --role arn:aws:iam::123456789:role/lambda-role \
  --handler daily_ticketing.handler \
  --zip-file fileb://daily_ticketing.zip
```

#### 2. EventBridge íŠ¸ë¦¬ê±° ì„¤ì •
```bash
# ë§¤ì¼ 00:00 (UTC+9) ì‹¤í–‰
aws events put-rule \
  --name refresh-plus-daily-ticketing \
  --schedule-expression "cron(0 15 * * ? *)"  # UTC ê¸°ì¤€

aws events put-targets \
  --rule refresh-plus-daily-ticketing \
  --targets "Id"="1","Arn"="arn:aws:lambda:ap-northeast-2:123456789:function:refresh-plus-daily-ticketing"
```

---

## ëª¨ë‹ˆí„°ë§ & ë¡œê¹…

### Sentry ì„¤ì •

#### Backend
```python
# app/main.py
import sentry_sdk
from sentry_sdk.integrations.fastapi import FastApiIntegration

sentry_sdk.init(
    dsn=settings.SENTRY_DSN,
    integrations=[FastApiIntegration()],
    traces_sample_rate=1.0,
    environment=settings.ENVIRONMENT
)
```

#### Frontend
```typescript
// frontend/src/lib/sentry.ts
import * as Sentry from "@sentry/nextjs";

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  tracesSampleRate: 1.0,
  environment: process.env.NODE_ENV,
});
```

### ë¡œê¹…

#### Backend ë¡œê·¸ ë ˆë²¨
```
DEBUG:   ê°œë°œ ë‹¨ê³„ ìƒì„¸ ì •ë³´
INFO:    ì¼ë°˜ ì •ë³´ (ì˜ˆì•½ ìƒì„±, ì ìˆ˜ íšŒë³µ)
WARNING: ê²½ê³  (ë†’ì€ ì—ëŸ¬ìœ¨, ì´ìƒ ê±°ë˜)
ERROR:   ì˜¤ë¥˜ (DB ì—°ê²° ì‹¤íŒ¨, API ì—ëŸ¬)
CRITICAL: ì‹¬ê°í•œ ì˜¤ë¥˜ (ì‹œìŠ¤í…œ ë‹¤ìš´)
```

---

## ì„±ëŠ¥ ìµœì í™”

### Frontend ìµœì í™”
- **Next.js Image**: ì´ë¯¸ì§€ ìë™ ìµœì í™” ë° lazy loading
- **Code Splitting**: ìë™ route-based splitting
- **Caching**: ì •ì  ìì‚° ì¥ê¸° ìºì‹±
- **Database Queries**: React Queryë¡œ ìŠ¤ë§ˆíŠ¸ ìºì‹±

### Backend ìµœì í™”
- **Async/Await**: FastAPI ì „ì²´ì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬
- **Connection Pooling**: SQLAlchemy ì»¤ë„¥ì…˜ í’€
- **Caching**: Redisë¡œ ìì£¼ ì¡°íšŒë˜ëŠ” ë°ì´í„° ìºì‹±
- **Pagination**: ëŒ€ëŸ‰ ë°ì´í„° ì¡°íšŒì‹œ í˜ì´ì§€ë„¤ì´ì…˜

### ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
- **Index**: ê²€ìƒ‰ ì¹¼ëŸ¼ì— ì¸ë±ìŠ¤ ìƒì„±
- **Query Optimization**: N+1 ë¬¸ì œ í•´ê²°
- **Backup**: ì¼ì¼ ìë™ ë°±ì—…

---

## ë³´ì•ˆ

### ì¸ì¦ & ì¸ê°€
- **Clerk**: JWT ê¸°ë°˜ ì¸ì¦
- **RBAC**: ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´
- **CORS**: ì•ˆì „í•œ í¬ë¡œìŠ¤ ë„ë©”ì¸ ìš”ì²­

### ë°ì´í„° ë³´ì•ˆ
- **HTTPS**: ëª¨ë“  í†µì‹  ì•”í˜¸í™”
- **í™˜ê²½ ë³€ìˆ˜**: ë¯¼ê°í•œ ì •ë³´ ì €ì¥
- **Input Validation**: Pydanticìœ¼ë¡œ ìë™ ê²€ì¦
- **Rate Limiting**: DDoS ë°©ì§€

### ì»´í”Œë¼ì´ì–¸ìŠ¤
- **GDPR**: ê°œì¸ì •ë³´ ë³´í˜¸
- **ë¡œê·¸ ê°ì‹œ**: ì˜ì‹¬ í™œë™ ëª¨ë‹ˆí„°ë§
- **ì •ê¸° ê°ì‚¬**: ë³´ì•ˆ ì·¨ì•½ì  ê²€ì‚¬

---

## í…ŒìŠ¤íŠ¸

### Backend í…ŒìŠ¤íŠ¸
```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pytest

# ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
pytest --cov=app

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
pytest tests/test_bookings.py -v
```

### Frontend í…ŒìŠ¤íŠ¸
```bash
# ìœ ë‹› í…ŒìŠ¤íŠ¸
npm run test

# E2E í…ŒìŠ¤íŠ¸
npm run test:e2e

# ì»¤ë²„ë¦¬ì§€
npm run test:coverage
```

---

## ê¸°ì—¬ ê°€ì´ë“œ

### ê°œë°œ ì›Œí¬í”Œë¡œìš°

1. **ì´ìŠˆ ì„ íƒ**: GitHub Issuesì—ì„œ ì‘ì—…í•  ì´ìŠˆ ì„ íƒ
2. **ë¸Œëœì¹˜ ìƒì„±**: `git checkout -b feature/issue-description`
3. **ì½”ë“œ ì‘ì„±**: ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™ ì¤€ìˆ˜
4. **í‘¸ì‹œ**: `git push origin feature/issue-description`
5. **PR ìƒì„±**: PRì— ë³€ê²½ì‚¬í•­ ìƒì„¸ ì„¤ëª…
6. **ì½”ë“œ ë¦¬ë·°**: íŒ€ ë¦¬ë·° í›„ ë¨¸ì§€

### ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™
```
[type]: [subject]

[body]

Fixes #[issue-number]
```

íƒ€ì…:
- `feat`: ìƒˆë¡œìš´ ê¸°ëŠ¥
- `fix`: ë²„ê·¸ ìˆ˜ì •
- `docs`: ë¬¸ì„œ ìˆ˜ì •
- `style`: ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½
- `refactor`: ì½”ë“œ ë¦¬íŒ©í† ë§
- `test`: í…ŒìŠ¤íŠ¸ ì¶”ê°€
- `chore`: ë¹Œë“œ, ì˜ì¡´ì„± ë“±

ì˜ˆì‹œ:
```
feat: ì°œí•˜ê¸° ì•Œë¦¼ ê¸°ëŠ¥ ì¶”ê°€

ì‚¬ìš©ìê°€ ì°œí•œ ìˆ™ì†Œê°€ ë‚´ ì ìˆ˜ë¡œ ì˜ˆì•½ ê°€ëŠ¥í•´ì§€ë©´ í‘¸ì‹œ ì•Œë¦¼ ë°œì†¡

Fixes #123
```

---

## ë¬¸ì œ í•´ê²°

### Backend ì‹œì‘ ì•ˆë  ë•Œ
```bash
# 1. ê°€ìƒ í™˜ê²½ í™œì„±í™” í™•ì¸
source venv/bin/activate

# 2. ëª¨ë“  ì˜ì¡´ì„± ì„¤ì¹˜ í™•ì¸
pip install -r requirements.txt

# 3. DB ë§ˆì´ê·¸ë ˆì´ì…˜ í™•ì¸
alembic upgrade head

# 4. í™˜ê²½ ë³€ìˆ˜ í™•ì¸
cat .env | grep DATABASE_URL

# 5. ë¡œê·¸ í™•ì¸
tail -f logs/app.log
```

### Frontend ì‹œì‘ ì•ˆë  ë•Œ
```bash
# 1. node_modules ì¬ì„¤ì¹˜
rm -rf node_modules package-lock.json
npm install

# 2. í™˜ê²½ ë³€ìˆ˜ í™•ì¸
cat .env.local

# 3. ìºì‹œ ì‚­ì œ
rm -rf .next

# 4. í¬íŠ¸ ì²´í¬
lsof -i :3000
```

### Firebase í‘¸ì‹œ ì•Œë¦¼ ì•ˆ ì˜¬ ë•Œ
1. FCM í† í° ì €ì¥ í™•ì¸
2. Firebase í”„ë¡œì íŠ¸ ì„¤ì • í™•ì¸
3. ê¸°ê¸°ì˜ ì•Œë¦¼ ê¶Œí•œ í™•ì¸
4. Firebase ì½˜ì†”ì—ì„œ í…ŒìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡

---

## ë¼ì´ì„ ìŠ¤

MIT License - ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](./LICENSE) ì°¸ê³ 

---

## ì—°ë½ì²˜

- ğŸ“§ ì´ë©”ì¼: [dev@refresh-plus.com]
- ğŸ› ì´ìŠˆ: [GitHub Issues](https://github.com/your-org/refresh-plus/issues)
- ğŸ’¬ í† ë¡ : [GitHub Discussions](https://github.com/your-org/refresh-plus/discussions)

---

## ì§€ì›

ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ â­ Starë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„ 12ì›”
**ë²„ì „**: 1.0.0 (Alpha)
